# ====================================
# LYREBIRD ENVIRONMENT CONFIGURATION
# ====================================
# Copy this file to .env and fill in your values
# Never commit .env to Git!

# ----------------
# Service Ports
# ----------------
GATEWAY_PORT=3000
INGESTION_PORT=3001
ANALYSIS_PORT=3002
DASHBOARD_PORT=8080

# Database Configuration
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_USER=postgres
DATABASE_PASSWORD=your_secure_password_here
DATABASE_NAME=lyrebird

# RabbitMQ Configuration
RABBITMQ_HOST=localhost
RABBITMQ_PORT=5672
RABBITMQ_USER=rabbitmq
RABBITMQ_PASSWORD=your_secure_password_here
RABBITMQ_VHOST=/

# Redis Configuration
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your_secure_password_here

# ----------------
# Application
# ----------------
NODE_ENV=development

# ----------------
# Health Check Configuration
# ----------------
# Memory limits for health checks (in MB)
HEALTH_HEAP_LIMIT_MB=150
HEALTH_RSS_LIMIT_MB=150

# ----------------
# API Version
# ----------------
API_VERSION=v1

# ----------------
# Jetstream Configuration (Real-time streaming)
# ----------------
# Job duration in milliseconds (how long the streaming job runs)
# Default: 120000 (2 minutes) - good balance for real-time analysis
# Examples: 60000 = 1 min, 120000 = 2 min, 300000 = 5 min
JETSTREAM_MAX_DURATION_MS=120000
# Jetstream endpoint (optional, defaults to US East)
# JETSTREAM_ENDPOINT=wss://jetstream2.us-east.bsky.network/subscribe
# Enable zstd compression (requires decompression implementation, disabled by default)
# JETSTREAM_COMPRESS=false

# ----------------
# Machine Learning (Local ONNX Inference)
# ----------------
# Directory to cache downloaded ML models (default: ./models-cache)
ML_MODEL_CACHE_DIR=./models-cache
# Model quantization level: q8 (recommended), fp32, fp16 (default: q8)
ML_QUANTIZATION=q8
