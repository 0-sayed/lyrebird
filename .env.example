# ====================================
# LYREBIRD ENVIRONMENT CONFIGURATION
# ====================================
# Copy this file to .env and fill in your values
# Never commit .env to Git!

# ----------------
# Service Ports
# ----------------
GATEWAY_PORT=3000
INGESTION_PORT=3001
ANALYSIS_PORT=3002

# Database Configuration
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_USER=postgres
DATABASE_PASSWORD=your_secure_password_here
DATABASE_NAME=lyrebird

# RabbitMQ Configuration
RABBITMQ_HOST=localhost
RABBITMQ_PORT=5672
RABBITMQ_USER=rabbitmq
RABBITMQ_PASSWORD=your_secure_password_here
RABBITMQ_VHOST=/

# Redis Configuration
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your_secure_password_here

# ----------------
# Application
# ----------------
NODE_ENV=development

# ----------------
# Health Check Configuration
# ----------------
# Memory limits for health checks (in MB)
HEALTH_HEAP_LIMIT_MB=150
HEALTH_RSS_LIMIT_MB=150

# ----------------
# API Version
# ----------------
API_VERSION=v1

# ----------------
# Bluesky API Configuration
# ----------------
# Your Bluesky handle (e.g., yourname.bsky.social)
BLUESKY_IDENTIFIER=your-handle.bsky.social
# App Password generated from Bluesky Settings -> Privacy and Security -> App Passwords
BLUESKY_APP_PASSWORD=xxxx-xxxx-xxxx-xxxx
# Polling interval in milliseconds (default: 5000 = 5 seconds)
# Rate limit: 3000 req/5min. Recommended values:
#   5000ms (5s)  = 60 req/5min (2% usage) - Live monitoring
#   10000ms (10s) = 30 req/5min (1% usage) - Near real-time
#   30000ms (30s) = 10 req/5min (0.3% usage) - Periodic updates
BLUESKY_POLL_INTERVAL_MS=5000
# Maximum duration (in milliseconds) allowed for a single Bluesky polling job
# This limits how long ingestion tasks can run before being cancelled
# Example: 300000 = 5 minutes, 600000 = 10 minutes
BLUESKY_MAX_DURATION_MS=300000